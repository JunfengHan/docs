# æ·±å…¥ç†è§£ react-create-app

> å¦‚ä½•åˆ›å»ºä¸€ä¸ª React åº”ç”¨ï¼Œç­”ï¼šè„šæ‰‹æ¶ã€‚

## 1. å¦‚ä½•åˆ›å»º React åº”ç”¨

æƒ³è¦ä½¿ç”¨ React çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š

- 1. åœ¨ä½ å·²æœ‰çš„é¡¹ç›®ä¸­å¼•å…¥ React

  è¯·çœ‹ React å®˜ç½‘æ–‡ç« [åœ¨ç½‘ç«™ä¸­æ·»åŠ  React](https://zh-hans.reactjs.org/docs/add-react-to-a-website.html)

- 2. åˆ›å»ºä¸€ä¸ªæ–°çš„åŸºäº React çš„é¡¹ç›®

  è¯·çœ‹ React å®˜ç½‘æ–‡ç« [åˆ›å»ºæ–°çš„ React åº”ç”¨](https://zh-hans.reactjs.org/docs/create-a-new-react-app.html)

  æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š

  - ä½ å¯ä»¥æ‰‹åŠ¨[ä» 0 åˆ° 1 æ‰“é€ ä¸€ä¸ªè‡ªå·±çš„ React åº”ç”¨](https://blog.usejournal.com/creating-a-react-app-from-scratch-f3c693b84658)

  - å¦‚æœä½ å«Œéº»çƒ¦çš„åŒ–ï¼Œä½¿ç”¨ React åº”ç”¨**æ„å»ºå·¥å…·**å¯ä»¥è®©ä½ è½»æ¾æ„å»ºä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ React åº”ç”¨ï¼Œå¦‚<code style="color: #708090; background-color: #F5F5F5; font-size: 18px">Gatsby</code>ã€<code style="color: #708090; background-color: #F5F5F5; font-size: 18px">Next.js</code>ã€ä»¥åŠæˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’<code style="color: #708090; background-color: #F5F5F5; font-size: 18px">Create React App</code>ç­‰ã€‚

## 2. è®¤è¯† react-create-app

> react-create-app æ˜¯ Dan å¼€å‘çš„ä¸€ä¸ª NPM åŒ…ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼è½»æ¾æ„å»º React åº”ç”¨ã€‚

### 2.1 Create React App æ˜¯ä»€ä¹ˆ

<code style="color: #708090; background-color: #F5F5F5; font-size: 18px">Create React App</code>åŒ…å«ä¸¤ä¸ªåŒ…ï¼š

- <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">create-react-app/code> æ˜¯ä¸€ä¸ª**å…¨å±€å‘½ä»¤è¡Œå®ç”¨ç¨‹åº**ï¼Œå¯ç”¨äºåˆ›å»ºæ–°é¡¹ç›®
- <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">react-scripts/code> æ˜¯ç”Ÿæˆçš„é¡¹ç›®ä¸­çš„ä¸€ä¸ªå¼€å‘ä¾èµ–é¡¹

### 2.2 Create React App åšäº†ä»€ä¹ˆ

- <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">Create React App</code>åªæ˜¯åˆ›å»ºä¸€ä¸ªå‰ç«¯æ„å»ºæµæ°´çº¿ï¼ˆbuild pipelineï¼‰ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥é…åˆä»»ä½•ä½ æƒ³ä½¿ç”¨çš„åç«¯

- CLI é»˜è®¤ä½¿ç”¨ Yarn å®‰è£…ç®¡ç†ä¾èµ–

- åœ¨**ç”Ÿäº§æ¨¡å¼**ä¸‹ä¼šæ‰“åŒ… React å¹¶ä¼˜åŒ–æ„å»ºä»¥è·å¾—æœ€ä½³æ€§èƒ½

## 3. react-create-app å¦‚ä½•ä½¿ç”¨

### 3.1 åˆ›å»º react åº”ç”¨

å®˜ç½‘æ–‡ç« å†™çš„å¤Ÿè¯¦ç»†ï¼Œä¼ é€é—¨[Getting Started](https://create-react-app.dev/docs/getting-started).

é¦–å…ˆï¼Œä½ æ— éœ€å®‰è£…å®ƒï¼š

è¿™è¦æ„Ÿè°¢ <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">npx</code>ï¼Œå®ƒè®©æˆ‘ä»¬æ— éœ€å®‰è£… NPM çš„ä¸€äº› CLI åŒ…ï¼Œå°±èƒ½ç›´æ¥ä½¿ç”¨ä»–ä»¬ã€‚çœ‹çœ‹ NPM CLI å›¢é˜Ÿæˆå‘˜çš„ä»‹ç»ï¼š[Introducing npx: an npm package runner](https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b).

æ–°å»ºä¸€ä¸ª React åº”ç”¨*my-app*ï¼š

```js
npx create-react-app my-app
```

ä½¿ç”¨**æ¨¡æ¿**åˆ›å»ºä¸€ä¸ª React åº”ç”¨*my-app*ï¼š

```js
npx create-react-app my-app --template [template-name]
```

æ–°å»ºä¸€ä¸ªåŸºäº TypeScript çš„ React åº”ç”¨*my-app*ï¼š

```js
npx create-react-app my-app --template typescript
```

### 3.2 åˆ›å»ºç»“æœ

é»˜è®¤æƒ…å†µåˆ›å»ºçš„*my-app*ç›®å½•ï¼š

```js
my-app
â”œâ”€â”€ README.md
â”œâ”€â”€ node_modules
â”œâ”€â”€ package.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ public
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ logo192.png
â”‚   â”œâ”€â”€ logo512.png
â”‚   â”œâ”€â”€ manifest.json
â”‚   â””â”€â”€ robots.txt
â””â”€â”€ src
    â”œâ”€â”€ App.css
    â”œâ”€â”€ App.js
    â”œâ”€â”€ App.test.js
    â”œâ”€â”€ index.css
    â”œâ”€â”€ index.js
    â”œâ”€â”€ logo.svg
    â”œâ”€â”€ serviceWorker.js
    â””â”€â”€ setupTests.js
```

**è¯´æ˜**ï¼š

- é¡¹ç›®æ„å»ºï¼ˆbuildï¼‰æ—¶ï¼Œä»¥ä¸‹æ–‡ä»¶å¿…é¡»å­˜åœ¨

  - <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">public/index.html</code> åº”ç”¨ä¸»é¡µæ¨¡æ¿
  - <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">src/index.js</code> JS å…¥å£æ–‡ä»¶

- <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">src</code> æ˜¯æˆ‘ä»¬çš„å·¥ä½œç›®å½•

- <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">public</code>ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ˆå¦‚æŸäº›æ’ä»¶ï¼‰æ‰èƒ½ç”¨åœ¨ <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">public/index.html</code>é‡Œ

## 4. è‡ªå®šä¹‰ development é…ç½®

> é…ç½®ä¸€ä¸ªåˆé€‚çš„å¼€å‘ç¯å¢ƒå¯ä»¥å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ï¼Œå‡å°‘é”™è¯¯ç‡ã€‚

### 4.1 è¯­æ³•é«˜äº®

é…åˆæˆ‘ä»¬å¸¸ç”¨çš„ IDEï¼Œä½¿ç”¨<code style="color: #708090; background-color: #F5F5F5; font-size: 18px">ESLint</code>å¯ä»¥æç¤ºæˆ‘ä»¬å¼€å‘è€…é‡åˆ°çš„è¯­æ³•é”™è¯¯ç­‰ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‹“å±•*eslintConfig*é…ç½®å®ç°ç‰¹å®šçš„æ£€æŸ¥è§„åˆ™ï¼Œä¾‹å¦‚ä¸‹é¢æ˜¯å…³äº**typeScript**çš„é…ç½®ï¼š

```js
{
  "eslintConfig": {
    "extends": ["react-app", "shared-config"],
    "rules": {
      "additional-rule": "warn"
    },
    "overrides": [
      {
        "files": ["**/*.ts?(x)"],
        "rules": {
          "additional-typescript-only-rule": "warn"
        }
      }
    ]
  }
}
```

### 4.2 åœ¨ VS Code ä¸­è°ƒè¯•ä»£ç 

åœ¨ VS Code ä¸­è°ƒè¯•ä»£ç éœ€è¦åšä¸¤ä»¶äº‹ï¼š

1. é…ç½®<code style="color: #708090; background-color: #F5F5F5; font-size: 18px">launch.json</code>æ–‡ä»¶
2. VS Code å®‰è£…æ’ä»¶ <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">Chrome Debugger</code>

ç„¶åé€šè¿‡<code style="color: #708090; background-color: #F5F5F5; font-size: 18px">npm start</code>å‘½ä»¤å¯åŠ¨é¡¹ç›®ï¼Œåœ¨ VS Code ä¸­å¯åŠ¨ Debug(å¿«æ·é”® F5)ã€‚

### 4.3 è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 

ä¸ºäº†åœ¨ä»£ç **commit**æ—¶è¿›è¡Œä»£ç çš„è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œéœ€è¦å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š

```js
npm install --save husky lint-staged prettier
```

- <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">husky</code> å¯ä»¥åƒä½¿ç”¨ npm è„šæœ¬ä¸€æ ·ä½¿ç”¨ githooks
- <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">lint-staged</code> å…è®¸æˆ‘ä»¬åœ¨ä»£ç çš„æš‚å­˜æ–‡ä»¶ä¸Šè¿è¡Œè„šæœ¬
- <code style="color: #708090; background-color: #F5F5F5; font-size: 18px">prettier</code> æ˜¯æˆ‘ä»¬åœ¨ commit æ—¶æ‰§è¡Œçš„ JS æ ¼å¼åŒ–ç¨‹åº

å½“ç„¶ï¼Œåˆ«å¿˜äº†åœ¨*package.json*ä¸­è¿›è¡Œé…ç½®ï¼š

```js
"husky": {
  "hooks": {
    "pre-commit": "lint-staged"
  }
},
"lint-staged": {
  "src/**/*.{js,jsx,ts,tsx,json,css,scss,md}": [
    "prettier --write"
  ]
},
```

è¿™æ ·ï¼Œæˆ‘ä»¬çš„ä»£ç ä¼šåœ¨æ¯æ¬¡ commit æ—¶è¿›è¡Œæ ¼å¼åŒ–ã€‚

ä½ ä¹Ÿå¯ä»¥éšæ—¶æ‰‹åŠ¨æ ¼å¼åŒ–ï¼š

```shell
./node_modules/.bin/prettier --write "src/**/*.{js,jsx,ts,tsx,json,css,scss,md}"
```

æˆ–è€…åœ¨ VS Code ä¸­è¿›è¡Œé…ç½®ï¼Œæ¯æ¬¡ä¿å­˜æ—¶è¿›è¡Œæ ¼å¼åŒ–ã€‚

## 5. è‡ªå®šä¹‰ production é…ç½®

## 4. å¦‚ä½•ä¿®æ”¹ react-create-app é»˜è®¤é…ç½®

## 5. react-create-app æºç è§£æ

## 6. react-create-app å“²å­¦

## å‚è€ƒ

å®˜æ–¹ç½‘ç«™ï¼Œå†™çš„å¾ˆè¯¦ç»†ï¼Œæ¨è ğŸ‘ [Create React App](https://create-react-app.dev/)

æºç åœ°å€ï¼Œå» start ä¸€ä¸‹ ğŸŒŸ [github æºç ](https://github.com/facebook/create-react-app)
